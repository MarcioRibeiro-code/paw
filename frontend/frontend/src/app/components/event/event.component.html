<app-nav-bar></app-nav-bar>

<div class="container mt-5">
    <img [src]="'/uploads/' + event?.image" alt="Event Image" class="img-fluid" id="event-image">
    <br/>
    
    <div class="form-group">
        <label for="title">Title:</label>
        <input type="text" id="title" name="title" required [value]="event?.title" readonly class="form-control">
    </div>
    <br/>
    <div class="form-group">
        <label for="description">Description:</label>
        <textarea id="description" name="description" required disabled class="form-control">{{ event?.description }}</textarea>
    </div>
    <br/>
    
    <div class="form-group">
        <label for="location">Location:</label>
        <input type="text" id="location" name="location" required [value]="event?.location" readonly class="form-control">
    </div>
    <br/>
    
    <div class="form-group">
        <label for="startTime">Start Time:</label>
        <input type="text" id="startTime" name="startTime" required [value]="datePipe.transform( event?.startTime , 'dd/MM/yyyy HH:mm')" readonly class="form-control">
    </div>
    <br/>
    
    <div class="form-group">
        <label for="endTime">End Time:</label>
        <input type="text" id="endTime" name="endTime" required [value]="datePipe.transform( event?.endTime , 'dd/MM/yyyy HH:mm')" readonly class="form-control">
    </div>
    <br/>
    
    <div class="form-group">
        <label for="eventType">Event Type:</label>
        <select id="eventType" name="eventType" required disabled class="form-control">
            <option value="free" [selected]="event?.eventType === 'free'">Free</option>
            <option value="paid" [selected]="event?.eventType === 'paid'">Paid</option>
        </select>
    </div>
    <br/>
    
    <div class="form-group">
        <label for="price">Price:</label>
        <input type="number" id="price" name="price" min="0" readonly [disabled]="event?.eventType === 'free'" [value]="event?.price" class="form-control">
    </div>
    <br/>

    <div class="container">
      <h1 class="mt-4">Ticket List</h1>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Date</th>
            <th>Price</th>
          </tr>
        </thead>
        <tbody>
      <tr *ngFor="let ticket of tickets">
        <td>{{ datePipe.transform( ticket.date , 'dd/MM/yyyy HH:mm') }}</td>
        <td>{{ ticket.price }}</td>
        <a
                    href="/ticket/{{ ticket._id }}/"
                    class="btn btn-secondary btn-sm"
                    >More Details</a
                  >
      </tr>
    </tbody>
    </table>
    </div>

</div>
