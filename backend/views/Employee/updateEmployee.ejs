<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Atualizar Funcionário</title>
    <link
            rel="stylesheet"
            href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
            integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
            crossorigin="anonymous"
    />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>

  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <button
      class="navbar-toggler"
      type="button"
      data-toggle="collapse"
      data-target="#navbarNav"
      aria-controls="navbarNav"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item active">
          <a class="nav-link" href="/employees/">Employees</a>
        </li>
        <li class="nav-item ">
          <a class="nav-link" href="/events/">Events</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/ticket/">Tickets</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/users/showall">Users</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/places/all">Places</a>
        </li>
        <li class="nav-item logout-btn">
          <a class="nav-link btn btn-danger" href="/logout/">Logout</a>
        </li>
      </ul>
    </div>
  </nav>
  



    <div class="container mt-5">
        <h1>Update Employee Details</h1>
        <% if (updated) { %>
            <div class="alert alert-success" id="success-message">
              Employee information updated successfully.
            </div>
        <% } %>
        <form action="/employees/<%= employee._id %>/edit?_method=PUT" method="post" id="update-form">
            <div class="form-group">
                <label for="name">Name:</label>
                <input
                        type="text"
                        id="name"
                        name="name"
                        class="form-control"
                        value="<%= employee.name %>"
                        required
                />
            </div>
            <div class="form-group">
                <label for="role">Role:</label>
                <select id="role" name="role" class="form-control" required>
                    <option value="admin" <% if (employee.role === 'admin') { %> selected <% } %>>Admin</option>
                    <option value="employee" <% if (employee.role === 'employee') { %> selected <% } %>>Funcionário</option>
                </select>
            </div>
            <div class="form-group">
                <label for="email">Email:</label>
                <input
                        type="email"
                        id="email"
                        name="email"
                        class="form-control"
                        value="<%= employee.email %>"
                        required
                />
            </div>
            <div class="form-group">
                <label for="password">Password:</label>
                <input
                        type="password"
                        id="password"
                        name="password"
                        class="form-control"
                        placeholder="Nova senha"
                />
            </div>
            <div class="form-group">
                <button type="submit" class="btn btn-primary">Update</button>
            </div>
        </form>
    </div>
<script>
    // Hide success message after 3 seconds
    $(document).ready(function() {
        setTimeout(function() {
            $('#success-message').fadeOut('slow');
        }, 3000);
    });
</script>
</body>
</html>
